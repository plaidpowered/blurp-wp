"use strict";var blurpImages=null;function blurpImgLoaded(e){this.parentNode.classList.add("loaded"),window.setTimeout(blurpRemoveOldBackground,800,this.parentNode)}function blurpRemoveOldBackground(e){e.style.backgroundImage=""}function blurpSwapImages(e){for(var n,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l=0;l<e.length;l+=1)e[l].classList.contains("seen")||-100<(n=e[l].getBoundingClientRect()).bottom&&n.top<t+100&&(e[l].classList.add("seen"),blurpSwapImage(e[l]))}function blurpSwapImage(e){var n=document.createElement("img"),t=(e.dataset.src||"")+"",l=(e.dataset.srcset||"")+"",o=(e.dataset.sizes||"")+"",d=e.parentNode;"FIGURE"===d.tagName&&d.classList.add("uses-blurp"),e.classList.contains("webp-ok")&&window.webpOk&&(t+=".webp",l=l.replace(/\.(jpg|png)/g,".$1.webp")),0<t.length&&(n.src=t),0<l.length&&(n.srcset=l),0<o.length&&(n.sizes=o),n.addEventListener("load",blurpImgLoaded),e.append(n),e.classList.add("seen")}function blurpScrolled(){null===window.blurpScrollTimer&&(blurpSwapImages(blurpImages),window.blurpScrollTimer=!0,window.setTimeout(function(e){window.blurpScrollTimer=null},100,blurpScrollTimer))}function blurpReady(){blurpImages=document.querySelectorAll(".preloaded-background"),window.addEventListener("scroll",blurpScrolled),window.blurpScrollTimer=null,blurpScrolled()}function blurpLoad(){window.webpOk=!1;var n=new Image;n.onload=function(){var e=0<n.width&&0<n.height;window.webpOk=e,blurpReady()},n.onerror=function(){window.webpOk=!1,blurpReady()},n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"}"complete"===document.readyState||"interactive"===document.readyState?blurpLoad():window.addEventListener("DOMContentLoaded",blurpLoad);